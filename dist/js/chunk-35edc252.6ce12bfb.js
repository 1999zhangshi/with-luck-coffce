(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35edc252"],{"0af0":function(t,e,a){},"0cb2":function(t,e,a){var o=a("7b0b"),n=Math.floor,i="".replace,r=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,a,s,u,l){var f=a+t.length,d=s.length,p=c;return void 0!==u&&(u=o(u),p=r),i.call(l,p,(function(o,i){var r;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,a);case"'":return e.slice(f);case"<":r=u[i.slice(1,-1)];break;default:var c=+i;if(0===c)return o;if(c>d){var l=n(c/10);return 0===l?o:l<=d?void 0===s[l-1]?i.charAt(1):s[l-1]+i.charAt(1):o}r=s[c-1]}return void 0===r?"":r}))}},"159b":function(t,e,a){var o=a("da84"),n=a("fdbc"),i=a("17c2"),r=a("9112");for(var c in n){var s=o[c],u=s&&s.prototype;if(u&&u.forEach!==i)try{r(u,"forEach",i)}catch(l){u.forEach=i}}},"17c2":function(t,e,a){"use strict";var o=a("b727").forEach,n=a("a640"),i=n("forEach");t.exports=i?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},"25f0":function(t,e,a){"use strict";var o=a("6eeb"),n=a("825a"),i=a("d039"),r=a("ad6d"),c="toString",s=RegExp.prototype,u=s[c],l=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f=u.name!=c;(l||f)&&o(RegExp.prototype,c,(function(){var t=n(this),e=String(t.source),a=t.flags,o=String(void 0===a&&t instanceof RegExp&&!("flags"in s)?r.call(t):a);return"/"+e+"/"+o}),{unsafe:!0})},"2e93":function(t,e,a){"use strict";a("0af0")},"4d63":function(t,e,a){var o=a("83ab"),n=a("da84"),i=a("94ca"),r=a("7156"),c=a("9bf2").f,s=a("241c").f,u=a("44e7"),l=a("ad6d"),f=a("9f7f"),d=a("6eeb"),p=a("d039"),h=a("69f3").set,g=a("2626"),v=a("b622"),b=v("match"),m=n.RegExp,k=m.prototype,y=/a/g,$=/a/g,x=new m(y)!==y,E=f.UNSUPPORTED_Y,D=o&&i("RegExp",!x||E||p((function(){return $[b]=!1,m(y)!=y||m($)==$||"/a/i"!=m(y,"i")})));if(D){var O=function(t,e){var a,o=this instanceof O,n=u(t),i=void 0===e;if(!o&&n&&t.constructor===O&&i)return t;x?n&&!i&&(t=t.source):t instanceof O&&(i&&(e=l.call(t)),t=t.source),E&&(a=!!e&&e.indexOf("y")>-1,a&&(e=e.replace(/y/g,"")));var c=r(x?new m(t,e):m(t,e),o?this:k,O);return E&&a&&h(c,{sticky:a}),c},S=function(t){t in O||c(O,t,{configurable:!0,get:function(){return m[t]},set:function(e){m[t]=e}})},w=s(m),C=0;while(w.length>C)S(w[C++]);k.constructor=O,O.prototype=k,d(n,"RegExp",O)}g("RegExp")},"4de4":function(t,e,a){"use strict";var o=a("23e7"),n=a("b727").filter,i=a("1dde"),r=i("filter");o({target:"Array",proto:!0,forced:!r},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},5319:function(t,e,a){"use strict";var o=a("d784"),n=a("825a"),i=a("50c4"),r=a("a691"),c=a("1d80"),s=a("8aa5"),u=a("0cb2"),l=a("14c3"),f=Math.max,d=Math.min,p=function(t){return void 0===t?t:String(t)};o("replace",2,(function(t,e,a,o){var h=o.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=o.REPLACE_KEEPS_$0,v=h?"$":"$0";return[function(a,o){var n=c(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,n,o):e.call(String(n),a,o)},function(t,o){if(!h&&g||"string"===typeof o&&-1===o.indexOf(v)){var c=a(e,t,this,o);if(c.done)return c.value}var b=n(t),m=String(this),k="function"===typeof o;k||(o=String(o));var y=b.global;if(y){var $=b.unicode;b.lastIndex=0}var x=[];while(1){var E=l(b,m);if(null===E)break;if(x.push(E),!y)break;var D=String(E[0]);""===D&&(b.lastIndex=s(m,i(b.lastIndex),$))}for(var O="",S=0,w=0;w<x.length;w++){E=x[w];for(var C=String(E[0]),j=f(d(r(E.index),m.length),0),_=[],P=1;P<E.length;P++)_.push(p(E[P]));var R=E.groups;if(k){var T=[C].concat(_,j,m);void 0!==R&&T.push(R);var A=String(o.apply(void 0,T))}else A=u(C,m,j,_,R,o);j>=S&&(O+=m.slice(S,j)+A,S=j+C.length)}return O+m.slice(S)}]}))},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4");var o=a("ade3");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},7156:function(t,e,a){var o=a("861d"),n=a("d2bb");t.exports=function(t,e,a){var i,r;return n&&"function"==typeof(i=e.constructor)&&i!==a&&o(r=i.prototype)&&r!==a.prototype&&n(t,r),t}},a15b:function(t,e,a){"use strict";var o=a("23e7"),n=a("44ad"),i=a("fc6a"),r=a("a640"),c=[].join,s=n!=Object,u=r("join",",");o({target:"Array",proto:!0,forced:s||!u},{join:function(t){return c.call(i(this),void 0===t?",":t)}})},a640:function(t,e,a){"use strict";var o=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&o((function(){a.call(null,e||function(){throw 1},1)}))}},ade3:function(t,e,a){"use strict";function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return o}))},b64b:function(t,e,a){var o=a("23e7"),n=a("7b0b"),i=a("df75"),r=a("d039"),c=r((function(){i(1)}));o({target:"Object",stat:!0,forced:c},{keys:function(t){return i(n(t))}})},bee2:function(t,e,a){"use strict";function o(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e,a){return e&&o(t.prototype,e),a&&o(t,a),t}a.d(e,"a",(function(){return n}))},c84b:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail"},[a("van-nav-bar",{attrs:{title:"商品详情","left-text":"返回","left-arrow":"",fixed:!0},on:{"click-left":t.back}}),a("div",{staticClass:"product-box"},[a("div",[a("img",{staticClass:"auto-img",attrs:{src:t.productDetailData.large_img}})]),a("div",{staticClass:"box"},[a("ul",{staticClass:"pro-box"},[a("li",{staticClass:"pro-name"},[t._v(t._s(t.productDetailData.name))])]),a("div",{staticClass:"pro-rule"},t._l(t.rules,(function(e,o){return a("div",{key:o,staticClass:"rule-item"},[a("span",{staticClass:"fl rule-title"},[t._v(t._s(e.title))]),a("ul",{staticClass:"fl rule-list"},t._l(e.rule,(function(e,n){return a("li",{key:n,class:{active:e.isActive},on:{click:function(a){return t.toggleRule(e,o)}}},[t._v(" "+t._s(e.text)+" ")])})),0)])})),0),a("div",{staticClass:"pro-desc"},[a("div",{staticClass:"desc-title"},[t._v("商品描述")]),a("div",{staticClass:"desc-info"},t._l(t.desc,(function(e,o){return a("p",{key:o},[t._v(t._s(e))])})),0)]),a("div",{staticClass:"pro-price-count"},[a("div",{staticClass:"price"},[t._v("￥"+t._s(t.productDetailData.price))]),a("div",{staticClass:"count clearfix"},[a("span",{staticClass:"icon fl left",on:{click:t.decrease}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"fl pro-count",attrs:{type:"text",readonly:""},domProps:{value:t.count},on:{input:function(e){e.target.composing||(t.count=e.target.value)}}}),a("span",{staticClass:"icon fl right",on:{click:t.inscease}})])])])]),a("van-goods-action",[a("van-goods-action-icon",{attrs:{icon:"cart-o",text:"购物车",badge:0==t.shopcartTotal?"":t.shopcartTotal>=100?"99+":t.shopcartTotal},on:{click:t.goPage}}),a("van-goods-action-icon",{attrs:{icon:t.actionIcon.icon,text:t.actionIcon.text,color:t.actionIcon.color},on:{click:t.like}}),a("van-goods-action-button",{attrs:{color:"#5da7f7",type:"warning",text:"加入购物车"},on:{click:t.addShopcart}}),a("van-goods-action-button",{attrs:{color:"#1989fa",type:"danger",text:"立即购买"},on:{click:t.buy}})],1)],1)},n=[],i=a("5530"),r=(a("159b"),a("a15b"),a("2f62")),c=a("fa7d"),s={name:"Detail",computed:Object(i["a"])({},Object(r["b"])("detailModule",["productDetailData","rules","desc","count","isLike","shopcartTotal","actionIcon","isShow"])),created:function(){var t=this;this.$toast.loading({forbidClick:!0,duration:0,message:"正在加载..."}),this.$store.commit("detailModule/emptyData");var e=this.$route.params.pid;this.axios({method:"GET",url:"/productDetail",params:{appkey:this.appkey,pid:e}}).then((function(e){600==e.data.code&&(t.$store.commit("detailModule/changeProductDetailData",e.data.result[0]),t.findlike(),t.shopcartRows(),t.$toast.clear())})).catch((function(e){t.$toast.clear()}))},methods:{inscease:function(){var t=this.count+1;this.$store.commit("detailModule/changeData",{key:"count",value:t})},decrease:function(){if(1!=this.count){var t=this.count-1;this.$store.commit("detailModule/changeData",{key:"count",value:t})}},toggleRule:function(t,e){if(!t.isActive){for(var a=this.rules[e],o=0;o<a.rule.length;o++)if(a.rule[o].isActive){a.rule[o].isActive=!1;break}t.isActive=!0}},findlike:function(){var t=this,e=localStorage.getItem("_t");this.$toast.loading({forbidClick:!0,duration:0,message:"正在加载..."}),this.axios({method:"GET",url:"/findlike",params:{appkey:this.appkey,pid:this.productDetailData.pid,tokenString:e}}).then((function(e){t.$toast.clear(),1e3==e.data.code&&(t.$store.commit("detailModule/changeData",{key:"isLike",value:e.data.result.length>0}),t.isLike&&t.$store.commit("detailModule/changeData",{key:"actionIcon",value:{icon:"like",text:"已收藏",color:"#EE0A24"}}))})).catch((function(e){t.$toast.clear()}))},like:function(){var t=this;this.$toast.loading({forbidClick:!0,duration:0,message:"加载中..."});var e=localStorage.getItem("_t"),a=this.isLike?"/notlike":"/like";this.axios({method:"POST",url:a,data:{appkey:this.appkey,pid:this.productDetailData.pid,tokenString:e},transformRequest:c["a"].transformRequest}).then((function(e){t.$toast.clear(),700!=e.data.code?(t.$toast({message:e.data.msg}),t.isLike?t.$store.commit("detailModule/changeData",{key:"actionIcon",value:{icon:"like",text:"收藏",color:"#6A6A6B"}}):t.$store.commit("detailModule/changeData",{key:"actionIcon",value:{icon:"like",text:"已收藏",color:"#EE0A24"}}),t.$store.commit("detailModule/changeData",{key:"isLike",value:!t.isLike})):t.noTokenLogin()})).catch((function(e){t.$toast.clear()}))},addShopcart:function(t){var e=this,a=localStorage.getItem("_t"),o=[];this.rules.forEach((function(t){for(var e=0;e<t.rule.length;e++)if(t.rule[e].isActive){o.push(t.rule[e].text);break}})),this.$toast.loading({forbidClick:!0,duration:0,message:"加载中..."}),this.axios({method:"POST",url:"/addShopcart",data:{appkey:this.appkey,pid:this.productDetailData.pid,count:this.count,rule:o.join("/"),tokenString:a},transformRequest:c["a"].transformRequest}).then((function(a){e.$toast.clear(),700!=a.data.code?(e.$toast({message:a.data.msg}),3e3==a.data.code&&(1==a.data.status&&e.$store.commit("detailModule/changeData",{key:"shopcartTotal",value:e.shopcartTotal+1}),"buy"==t&&e.$router.push({name:"Pay",query:{sids:a.data.sid}}))):e.noTokenLogin()})).catch((function(t){e.$toast.clear()}))},buy:function(){this.addShopcart("buy")},shopcartRows:function(){var t=this,e=localStorage.getItem("_t");this.$toast.loading({forbidClick:!0,duration:0,message:"加载中..."}),this.axios({method:"GET",url:"/shopcartRows",params:{appkey:this.appkey,tokenString:e}}).then((function(e){t.$toast.clear(),8e3==e.data.code&&t.$store.commit("detailModule/changeData",{key:"shopcartTotal",value:e.data.result})})).catch((function(e){t.$toast.clear()}))},back:function(){this.$router.go(-1)},goPage:function(){this.$router.push({name:"Shopcart"})},noTokenLogin:function(){var t=this;this.$dialog.confirm({title:"前往登陆",message:"您还没有登陆，请问您要前往登陆界面吗"}).then((function(e){"confirm"==e&&t.$router.push({name:"Login"})})).catch((function(){}))}}},u=s,l=(a("2e93"),a("2877")),f=Object(l["a"])(u,o,n,!1,null,"03c7170a",null);e["default"]=f.exports},d4ec:function(t,e,a){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a.d(e,"a",(function(){return o}))},dbb4:function(t,e,a){var o=a("23e7"),n=a("83ab"),i=a("56ef"),r=a("fc6a"),c=a("06cf"),s=a("8418");o({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,a,o=r(t),n=c.f,u=i(o),l={},f=0;while(u.length>f)a=n(o,e=u[f++]),void 0!==a&&s(l,e,a);return l}})},e439:function(t,e,a){var o=a("23e7"),n=a("d039"),i=a("fc6a"),r=a("06cf").f,c=a("83ab"),s=n((function(){r(1)})),u=!c||s;o({target:"Object",stat:!0,forced:u,sham:!c},{getOwnPropertyDescriptor:function(t,e){return r(i(t),e)}})},fa7d:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var o=a("d4ec"),n=a("bee2"),i=(a("159b"),a("a15b"),a("d3b7"),a("25f0"),a("4d63"),a("ac1f"),a("5319"),a("fb6a"),function(){function t(){Object(o["a"])(this,t)}return Object(n["a"])(t,[{key:"transformRequest",value:function(t){var e="";for(var a in t)e+=a+"="+t[a]+"&";return e}},{key:"getCookies",value:function(t,e){var a={};return t.forEach((function(t){a[t]=e.$cookies.get(t)})),a}},{key:"getToken",value:function(t){var e=["t0","t1","t2"],a=[];return e.forEach((function(e){a.push(t.$cookies.get(e))})),a.join(".")}},{key:"formatDate",value:function(t,e){var a=t.getFullYear().toString();if(/(y+)/.test(e)){var o=RegExp.$1;e=e.replace(o,a.slice(a.length-o.length))}var n={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};for(var i in n){var r=new RegExp("(".concat(i,"{1,2})"));if(r.test(e)){var c=RegExp.$1,s=n[i]>=10||1==c.length?n[i]:"0"+n[i];e=e.replace(c,s)}}return e}}]),t}()),r=new i}}]);
//# sourceMappingURL=chunk-35edc252.6ce12bfb.js.map