(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bf27706"],{"0cb2":function(t,e,n){var a=n("7b0b"),o=Math.floor,r="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,i=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,c,u,l){var f=n+t.length,g=c.length,d=i;return void 0!==u&&(u=a(u),d=s),r.call(l,d,(function(a,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(f);case"<":s=u[r.slice(1,-1)];break;default:var i=+r;if(0===i)return a;if(i>g){var l=o(i/10);return 0===l?a:l<=g?void 0===c[l-1]?r.charAt(1):c[l-1]+r.charAt(1):a}s=c[i-1]}return void 0===s?"":s}))}},"159b":function(t,e,n){var a=n("da84"),o=n("fdbc"),r=n("17c2"),s=n("9112");for(var i in o){var c=a[i],u=c&&c.prototype;if(u&&u.forEach!==r)try{s(u,"forEach",r)}catch(l){u.forEach=r}}},"17c2":function(t,e,n){"use strict";var a=n("b727").forEach,o=n("a640"),r=o("forEach");t.exports=r?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"25f0":function(t,e,n){"use strict";var a=n("6eeb"),o=n("825a"),r=n("d039"),s=n("ad6d"),i="toString",c=RegExp.prototype,u=c[i],l=r((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f=u.name!=i;(l||f)&&a(RegExp.prototype,i,(function(){var t=o(this),e=String(t.source),n=t.flags,a=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?s.call(t):n);return"/"+e+"/"+a}),{unsafe:!0})},"4d63":function(t,e,n){var a=n("83ab"),o=n("da84"),r=n("94ca"),s=n("7156"),i=n("9bf2").f,c=n("241c").f,u=n("44e7"),l=n("ad6d"),f=n("9f7f"),g=n("6eeb"),d=n("d039"),h=n("69f3").set,v=n("2626"),p=n("b622"),m=p("match"),b=o.RegExp,A=b.prototype,k=/a/g,w=/a/g,R=new b(k)!==k,x=f.UNSUPPORTED_Y,y=a&&r("RegExp",!R||x||d((function(){return w[m]=!1,b(k)!=k||b(w)==w||"/a/i"!=b(k,"i")})));if(y){var E=function(t,e){var n,a=this instanceof E,o=u(t),r=void 0===e;if(!a&&o&&t.constructor===E&&r)return t;R?o&&!r&&(t=t.source):t instanceof E&&(r&&(e=l.call(t)),t=t.source),x&&(n=!!e&&e.indexOf("y")>-1,n&&(e=e.replace(/y/g,"")));var i=s(R?new b(t,e):b(t,e),a?this:A,E);return x&&n&&h(i,{sticky:n}),i},I=function(t){t in E||i(E,t,{configurable:!0,get:function(){return b[t]},set:function(e){b[t]=e}})},S=c(b),C=0;while(S.length>C)I(S[C++]);A.constructor=E,E.prototype=A,g(o,"RegExp",E)}v("RegExp")},5319:function(t,e,n){"use strict";var a=n("d784"),o=n("825a"),r=n("50c4"),s=n("a691"),i=n("1d80"),c=n("8aa5"),u=n("0cb2"),l=n("14c3"),f=Math.max,g=Math.min,d=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,n,a){var h=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=a.REPLACE_KEEPS_$0,p=h?"$":"$0";return[function(n,a){var o=i(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,o,a):e.call(String(o),n,a)},function(t,a){if(!h&&v||"string"===typeof a&&-1===a.indexOf(p)){var i=n(e,t,this,a);if(i.done)return i.value}var m=o(t),b=String(this),A="function"===typeof a;A||(a=String(a));var k=m.global;if(k){var w=m.unicode;m.lastIndex=0}var R=[];while(1){var x=l(m,b);if(null===x)break;if(R.push(x),!k)break;var y=String(x[0]);""===y&&(m.lastIndex=c(b,r(m.lastIndex),w))}for(var E="",I=0,S=0;S<R.length;S++){x=R[S];for(var C=String(x[0]),U=f(g(s(x.index),b.length),0),j=[],P=1;P<x.length;P++)j.push(d(x[P]));var D=x.groups;if(A){var N=[C].concat(j,U,b);void 0!==D&&N.push(D);var O=String(a.apply(void 0,N))}else O=u(C,b,U,j,D,a);U>=I&&(E+=b.slice(I,U)+O,I=U+C.length)}return E+b.slice(I)}]}))},"671c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAFWElEQVRoQ9VaXWwUVRg9Z6Y0aqXd3RpCMIrQnT6YQHkQFULAmAAPGn4So5KIJj7QdgZJQI0a1AYTQVATVGZboiYGhZAYFeFBRY0igYjGHzAhstPWHxSIkZ1doRTa7nxmlnTZ4u7OzDJbYR73nnO+78z33Tt3Zi8R4Ko3u+MqncUUzBdwPIFGgVxHsiaATB4qkEEKUyBOAnJMgN2OyvczrVqPXz16AkUYTVj3g3iCYIsnPgSAQA5CsN7Wte0gpZxkWQMNXcm5qsONAG4OIa9KJA5nBSszhra7FLmkgWin1Q6BScC7SpWkFoAjwDq7Pb66WDWKJhc1rXUkngwQYzSgn6Sk4R4Y404XBvuPgUjCelYB1oxGRkFjCPCR3R6/q7ASIwxEEtYCAjsuh7YpZU6AtbaurR4ezxuo7+rRarLOQRBXB70zo413hHemjfgXbty8gWgiuYvg3SEmc1aAVyiiCbmQgBqetnyT0ptvyxuIbErOVhTuCS8AICJtttG82dWMmslWkl3h6mOBbWi7chWIJqwvCcwJM4CjqNPSbZMPupoRMzlNIX8IU18ge229eTZjr1r1UoO034krgm4Qf3ol40AezujNvS6uYbPVpGTxphcHgutJxD1xAASQAamZ4G4THiDwth8ShI+ljPjLvrAVgqKJ5OMEN/ihi8BwDWwhsNQXIatMtR9p+skPtlJMNNE7lcjmWs/zEvmAUTO5l+QsT3CubLJ9QMas7DMmnfCDD4qpM38ZX8uhjQTu88UVOeAa6CU5yRchAGjEJO7qbVGc7I8B6L6gAvzuGhisdD9fLsroGJBBxhJW2f22r1tRBDQaBtywvgwI2DVIdJxuj/9VqaEgvGs7u8eNEawhpM2L58tAFrWxjD7R9hILc7z+jaOxmoGzJ700fRkAMCOla197iYU5HjV7ZpHOXi9NXwZEkAaxlYK/CwWz5K6MHv9u+LdYonsZRCaUndxQDqWNpveHMQ2mNU8FZhZyhBgHwRISkVAMlBIRYIeta4uHxyOm9ZJCPFouqABLbV17J2/atI6AaPZKtNS4rwqUNiCD59TaiWdabzruYqKv9Uyh6hwqmYygP3XuqkasuqHfxdR39t5aI9kDlSbvexUqe0cFr9uGtmwYEzWT20guKcF5N6Vr9xZgu0i2jqIBOeKQzwM4OhyUomZtfXJ+so3d9EejqvZPKZaU4rAnZcTz3HqzZ7qiOHV5rKPEFDjrgrRUoBZygIVpXdt5KXfMixszu2eCss8Ll7+BQZ7EjoNF6eXah37FK8EFfTsMVAGI/OwoXFvYQqWSTNeN/RYPju/LjW85URfpOzXdy5DiUBPIBj/LZ0UV8EqgcFygttj65NyKFKnSbjSUVaj0EntZGZBTAn4fpAIVvRMXBKDILSAvrFBFggtkwHMOCLDfVuvmonXCmSAGLhm7+dg10Wzfp7xomzGyTeVXbwPCp20j7q79o35FzOQzCvlc6TbFfm8DwD5brZv3v1RgqO8zEjNKGhBs9TRwnny5zgEs9WkgePdUexl1P2xxCJEr14DIV7bRPOeKNeAAd6R1bU8VDVx4cYkkuh9SIG8Fb8TiDAF22rq2sLpPYsFvULBeHKkluYrAjaEYEPQPqUrLP21NVlUNhJLsRSLuxBVgUeGWvmotVA0DDtCR1rURDzbGTCsDor4aAcPUFMELtqE9dbGm+210D8nZYQYLU8ttGxCG3a51FtNlrNOaD8HHYQYNUetw1lFWZJY3fV5KM/cfWazT6hBBh9+/mUJMsKjU+cMefNHW49t8H/aIJazbRWQFgHkkG6udZG6HVXjcRuR47rhNDd8LctzmXwBob/SaAGsJAAAAAElFTkSuQmCC"},7156:function(t,e,n){var a=n("861d"),o=n("d2bb");t.exports=function(t,e,n){var r,s;return o&&"function"==typeof(r=e.constructor)&&r!==n&&a(s=r.prototype)&&s!==n.prototype&&o(t,s),t}},a15b:function(t,e,n){"use strict";var a=n("23e7"),o=n("44ad"),r=n("fc6a"),s=n("a640"),i=[].join,c=o!=Object,u=s("join",",");a({target:"Array",proto:!0,forced:c||!u},{join:function(t){return i.call(r(this),void 0===t?",":t)}})},a55b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"login-title"},[a("div",{staticClass:"luckc",on:{click:t.luckcLogo}},[a("img",{staticClass:"auto-img luckc-logo",attrs:{src:n("671c"),alt:""}}),a("span",{staticClass:"luckc-text"},[t._v(" 随幸客咖啡")])]),a("div",{staticClass:"close",on:{click:t.menu}},[t._v("游客模式")])]),t._m(0),a("van-form",[a("van-field",{attrs:{name:"手机号",label:"手机号",placeholder:"11位手机号"},model:{value:t.userInfo.phone,callback:function(e){t.$set(t.userInfo,"phone",e)},expression:"userInfo.phone"}}),a("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"6-16个字符"},model:{value:t.userInfo.password,callback:function(e){t.$set(t.userInfo,"password",e)},expression:"userInfo.password"}}),a("div",{staticClass:"btn-box"},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:t.login}},[t._v("登陆")]),a("van-button",{staticClass:"register",attrs:{round:"",block:"",type:"default","native-type":"submit"},on:{click:t.isregister}},[t._v("还没有账号吗？快来注册吧")])],1),a("p",{staticClass:"pwd"},[a("span",{on:{click:function(e){return t.goPage("Email")}}},[t._v("找回密码")])])],1),a("van-action-sheet",{attrs:{title:"注册"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("van-form",[a("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"1-8个字符"},model:{value:t.userRegInfo.nickName,callback:function(e){t.$set(t.userRegInfo,"nickName",e)},expression:"userRegInfo.nickName"}}),a("van-field",{attrs:{type:"text",name:"手机号",label:"手机号",placeholder:"11位手机号"},model:{value:t.userRegInfo.phone,callback:function(e){t.$set(t.userRegInfo,"phone",e)},expression:"userRegInfo.phone"}}),a("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"6-16个字符"},model:{value:t.userRegInfo.password,callback:function(e){t.$set(t.userRegInfo,"password",e)},expression:"userRegInfo.password"}}),a("div",{staticClass:"btn-box",staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:t.register}},[t._v("注册")])],1)],1)],1)],1)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-good"},[n("div",{staticClass:"good-text"},[t._v("幸运的你,")]),n("div",{staticClass:"good-text"},[t._v("今天有什么好事发生吗？")]),n("div",{staticClass:"good-entext"},[t._v("Lucky you,")]),n("div",{staticClass:"good-entext"},[t._v("Did anything good happen to you today?")])])}],r=n("cc73"),s=n("fa7d"),i={name:"Login",data:function(){return{isShow:!1}},created:function(){this.$store.commit("loginModule/emptyData")},computed:{userInfo:function(){return this.$store.state.loginModule.userInfo},userRegInfo:function(){return this.$store.state.loginModule.userRegInfo}},methods:{login:function(){var t=this;r["a"].validForm(this.userInfo,this)&&(this.$toast.loading({forbidClick:!0,duration:0,message:"正在登陆..."}),this.axios({method:"POST",url:"/login",data:{appkey:this.appkey,phone:this.userInfo.phone,password:this.userInfo.password},transformRequest:s["a"].transformRequest}).then((function(e){t.$toast.clear(),200==e.data.code?(localStorage.setItem("_t",e.data.token),t.$store.commit("changeData",{key:"isLogin",value:!0}),t.$router.push({name:"Advertising"})):t.$toast(e.data.msg)})).catch((function(e){t.$toast.clear()})))},register:function(){var t=this;r["a"].validForm(this.userRegInfo,this)&&(this.$toast.loading({forbidClick:!0,duration:0,message:"注册中..."}),this.axios({method:"POST",url:"/register",data:{appkey:this.appkey,nickName:this.userRegInfo.nickName,phone:this.userRegInfo.phone,password:this.userRegInfo.password},transformRequest:s["a"].transformRequest}).then((function(e){t.$toast.clear(),100==e.data.code?t.isShow=!1:t.$toast({message:e.data.msg})})).catch((function(t){})))},isregister:function(){this.isShow=!0},menu:function(){localStorage.removeItem("_t"),this.$router.push({name:"Menu"})},luckcLogo:function(){this.$toast("我只是个幸运logo")},goPage:function(t){this.$router.push({name:t})}}},c=i,u=(n("b5da"),n("2877")),l=Object(u["a"])(c,a,o,!1,null,"107983bc",null);e["default"]=l.exports},a640:function(t,e,n){"use strict";var a=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&a((function(){n.call(null,e||function(){throw 1},1)}))}},b5da:function(t,e,n){"use strict";n("d1ba")},bee2:function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}n.d(e,"a",(function(){return o}))},cc73:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("d4ec"),o=n("bee2"),r=function(){function t(){Object(a["a"])(this,t),this.phone={reg:/^1[3456789]\d{9}$/,msg:"请填写正确的手机号"},this.nickName={reg:/^[0-9a-zA-Z\u4e00-\u9fa5]{1,8}$/,msg:"用户名需含有1-8位数字，字母，汉字的组合"},this.password={reg:/^[a-zA-Z][^\u4e00-\u9fa5]{5,15}$/,msg:"密码为6-16位字符，首个字符必须是字母且不能含有汉字"},this.oldPassword={reg:/^[a-zA-Z][^\u4e00-\u9fa5]{5,15}$/,msg:"旧密码为6-16位字符，首个字符必须是字母且不能含有汉字"},this.email={reg:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,msg:"邮箱格式不正确"}}return Object(o["a"])(t,[{key:"validForm",value:function(t,e){for(var n in t)if(!this[n].reg.test(t[n]))return e.$toast(this[n].msg),!1;return!0}}]),t}(),s=new r},d1ba:function(t,e,n){},d4ec:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return a}))},fa7d:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("d4ec"),o=n("bee2"),r=(n("159b"),n("a15b"),n("d3b7"),n("25f0"),n("4d63"),n("ac1f"),n("5319"),n("fb6a"),function(){function t(){Object(a["a"])(this,t)}return Object(o["a"])(t,[{key:"transformRequest",value:function(t){var e="";for(var n in t)e+=n+"="+t[n]+"&";return e}},{key:"getCookies",value:function(t,e){var n={};return t.forEach((function(t){n[t]=e.$cookies.get(t)})),n}},{key:"getToken",value:function(t){var e=["t0","t1","t2"],n=[];return e.forEach((function(e){n.push(t.$cookies.get(e))})),n.join(".")}},{key:"formatDate",value:function(t,e){var n=t.getFullYear().toString();if(/(y+)/.test(e)){var a=RegExp.$1;e=e.replace(a,n.slice(n.length-a.length))}var o={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};for(var r in o){var s=new RegExp("(".concat(r,"{1,2})"));if(s.test(e)){var i=RegExp.$1,c=o[r]>=10||1==i.length?o[r]:"0"+o[r];e=e.replace(i,c)}}return e}}]),t}()),s=new r}}]);
//# sourceMappingURL=chunk-4bf27706.83c09af6.js.map