(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a1baeb44"],{"0cb2":function(t,e,r){var a=r("7b0b"),n=Math.floor,i="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,c,u,d){var f=r+t.length,l=c.length,h=o;return void 0!==u&&(u=a(u),h=s),i.call(d,h,(function(a,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(f);case"<":s=u[i.slice(1,-1)];break;default:var o=+i;if(0===o)return a;if(o>l){var d=n(o/10);return 0===d?a:d<=l?void 0===c[d-1]?i.charAt(1):c[d-1]+i.charAt(1):a}s=c[o-1]}return void 0===s?"":s}))}},"159b":function(t,e,r){var a=r("da84"),n=r("fdbc"),i=r("17c2"),s=r("9112");for(var o in n){var c=a[o],u=c&&c.prototype;if(u&&u.forEach!==i)try{s(u,"forEach",i)}catch(d){u.forEach=i}}},"17c2":function(t,e,r){"use strict";var a=r("b727").forEach,n=r("a640"),i=n("forEach");t.exports=i?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"25f0":function(t,e,r){"use strict";var a=r("6eeb"),n=r("825a"),i=r("d039"),s=r("ad6d"),o="toString",c=RegExp.prototype,u=c[o],d=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f=u.name!=o;(d||f)&&a(RegExp.prototype,o,(function(){var t=n(this),e=String(t.source),r=t.flags,a=String(void 0===r&&t instanceof RegExp&&!("flags"in c)?s.call(t):r);return"/"+e+"/"+a}),{unsafe:!0})},"29a5":function(t,e,r){"use strict";r("2d72")},"2d72":function(t,e,r){},"4d63":function(t,e,r){var a=r("83ab"),n=r("da84"),i=r("94ca"),s=r("7156"),o=r("9bf2").f,c=r("241c").f,u=r("44e7"),d=r("ad6d"),f=r("9f7f"),l=r("6eeb"),h=r("d039"),v=r("69f3").set,p=r("2626"),g=r("b622"),b=g("match"),y=n.RegExp,m=y.prototype,w=/a/g,S=/a/g,k=new y(w)!==w,E=f.UNSUPPORTED_Y,D=a&&i("RegExp",!k||E||h((function(){return S[b]=!1,y(w)!=w||y(S)==S||"/a/i"!=y(w,"i")})));if(D){var x=function(t,e){var r,a=this instanceof x,n=u(t),i=void 0===e;if(!a&&n&&t.constructor===x&&i)return t;k?n&&!i&&(t=t.source):t instanceof x&&(i&&(e=d.call(t)),t=t.source),E&&(r=!!e&&e.indexOf("y")>-1,r&&(e=e.replace(/y/g,"")));var o=s(k?new y(t,e):y(t,e),a?this:m,x);return E&&r&&v(o,{sticky:r}),o},O=function(t){t in x||o(x,t,{configurable:!0,get:function(){return y[t]},set:function(e){y[t]=e}})},$=c(y),C=0;while($.length>C)O($[C++]);m.constructor=x,x.prototype=m,l(n,"RegExp",x)}p("RegExp")},"4de4":function(t,e,r){"use strict";var a=r("23e7"),n=r("b727").filter,i=r("1dde"),s=i("filter");a({target:"Array",proto:!0,forced:!s},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},5319:function(t,e,r){"use strict";var a=r("d784"),n=r("825a"),i=r("50c4"),s=r("a691"),o=r("1d80"),c=r("8aa5"),u=r("0cb2"),d=r("14c3"),f=Math.max,l=Math.min,h=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,r,a){var v=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,p=a.REPLACE_KEEPS_$0,g=v?"$":"$0";return[function(r,a){var n=o(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,n,a):e.call(String(n),r,a)},function(t,a){if(!v&&p||"string"===typeof a&&-1===a.indexOf(g)){var o=r(e,t,this,a);if(o.done)return o.value}var b=n(t),y=String(this),m="function"===typeof a;m||(a=String(a));var w=b.global;if(w){var S=b.unicode;b.lastIndex=0}var k=[];while(1){var E=d(b,y);if(null===E)break;if(k.push(E),!w)break;var D=String(E[0]);""===D&&(b.lastIndex=c(y,i(b.lastIndex),S))}for(var x="",O=0,$=0;$<k.length;$++){E=k[$];for(var C=String(E[0]),_=f(l(s(E.index),y.length),0),j=[],A=1;A<E.length;A++)j.push(h(E[A]));var P=E.groups;if(m){var R=[C].concat(j,_,y);void 0!==P&&R.push(P);var M=String(a.apply(void 0,R))}else M=u(C,y,_,j,P,a);_>=O&&(x+=y.slice(O,_)+M,O=_+C.length)}return x+y.slice(O)}]}))},5530:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("159b"),r("dbb4");var a=r("ade3");function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){Object(a["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},7156:function(t,e,r){var a=r("861d"),n=r("d2bb");t.exports=function(t,e,r){var i,s;return n&&"function"==typeof(i=e.constructor)&&i!==r&&a(s=i.prototype)&&s!==r.prototype&&n(t,s),t}},"76a1":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pay"},[r("van-nav-bar",{attrs:{title:"提交订单","left-text":"返回","left-arrow":"",fixed:!0},on:{"click-left":t.back}}),r("div",{staticClass:"pay-content"},[r("div",{staticClass:"receive",on:{click:t.showActionSheet}},[t._v(" "+t._s(t.addressData.address)+" ")]),r("div",{staticClass:"order-content"},[r("div",{staticClass:"order-item"},[t._l(t.orderData,(function(e,a){return r("div",{key:a,staticClass:"item clearfix"},[r("div",{staticClass:"pro-img fl"},[r("img",{staticClass:"auto-img",attrs:{src:e.small_img,alt:""}})]),r("div",{staticClass:"pro-desc fl"},[r("div",{staticClass:"pro-name"},[r("div",{staticClass:"ch-name"},[t._v(t._s(e.name))]),r("div",{staticClass:"en-name"},[t._v(t._s(e.enname))])]),r("div",{staticClass:"pro-rule"},[t._v(t._s(e.rule))])]),r("div",{staticClass:"pro-info fr"},[r("div",{staticClass:"pro-price"},[t._v(t._s(e.price))]),r("div",{staticClass:"pro-count"},[t._v(t._s(e.count))])])])})),r("div",{staticClass:"item clearfix"},[r("div",{staticClass:"fr clearfix"},[r("span",{staticClass:"fl text"},[t._v("共计 "+t._s(t.orderDesc.count)+" 件商品 合计：")]),r("span",{staticClass:"fl price"},[t._v("￥"+t._s(t.orderDesc.total))])])]),r("div",{staticClass:"item bottom-item"})],2)])]),r("van-action-sheet",{attrs:{title:"选择收货地址"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[r("div",{staticClass:"content"},[r("van-address-list",{attrs:{list:t.list,"default-tag-text":"默认",switchable:!0},on:{select:t.selectAddress,add:t.newAddress},model:{value:t.chosenAddressId,callback:function(e){t.chosenAddressId=e},expression:"chosenAddressId"}})],1)]),r("van-submit-bar",{attrs:{price:100*t.orderDesc.total,"button-text":"立即结算","button-type":"info"},on:{submit:t.pay}})],1)},n=[],i=r("5530"),s=(r("1276"),r("ac1f"),r("159b"),r("b0c0"),r("99af"),r("fa7d")),o=r("2f62"),c={name:"Pay",data:function(){return{isShow:!1,chosenAddressId:"0"}},created:function(){if(this.isLogin){this.$store.commit("payModule/emptyData");var t=this.$route.query.sids.split("-");this.$store.commit("payModule/changeData",{key:"sids",value:t}),this.findBuyProduct(t),this.getAddress()}else this.$router.push({name:"Login"})},computed:Object(i["a"])({isLogin:function(){return this.$store.state.isLogin}},Object(o["b"])("payModule",["orderData","orderDesc","isSelect","list","addressData","sids"])),methods:{back:function(){this.$router.go(-1)},showActionSheet:function(){this.isShow=!0},findBuyProduct:function(t){var e=this,r=localStorage.getItem("_t");this.$toast.loading({forbidClick:!0,duration:0,message:"加载中..."}),this.axios({type:"GET",url:"/commitShopcart",params:{appkey:this.appkey,tokenString:r,sids:JSON.stringify(t)}}).then((function(t){e.$toast.clear(),e.orderDesc.count=0,e.orderDesc.total=0,t.data.result.forEach((function(t){e.orderDesc.count+=t.count,e.orderDesc.total+=t.count*t.price})),e.$store.commit("payModule/changeData",{key:"orderData",value:t.data.result})})).catch((function(t){e.$toast.clear()}))},getAddress:function(){var t=this,e=localStorage.getItem("_t");this.$toast.loading({forbidClick:!0,duration:0,message:"正在加载..."}),this.axios({method:"GET",url:"/findAddress",params:{appkey:this.appkey,tokenString:e}}).then((function(e){t.$toast.clear();var r=[];e.data.result.forEach((function(e,a){var n={id:a+"",name:e.name,tel:e.tel,address:e.province+e.city+e.county+e.addressDetail};r.push(n),1==e.isDefault&&(t.$store.commit("payModule/changeData",{key:"isSelect",value:!0}),t.addressData.address=n.address,t.chosenAddressId=a+"")})),t.$store.commit("payModule/changeData",{key:"list",value:r})})).catch((function(e){t.$toast.clear()}))},selectAddress:function(t,e){this.isSelect||this.$store.commit("payModule/changeData",{key:"isSelect",value:!0}),this.addressData.phone=t.tel,this.addressData.receiver=t.name,this.addressData.address=t.address,this.isShow=!1},newAddress:function(){this.$router.push({name:"NewAddress",query:{isAdd:1}})},pay:function(){var t=this;if(this.isSelect){var e=localStorage.getItem("_t"),r=this.sids.concat();this.$toast.loading({forbidClick:!0,duration:0,message:"加载中..."}),this.axios({method:"POST",url:"/pay",data:{appkey:this.appkey,tokenString:e,sids:JSON.stringify(r),address:this.addressData.address,receiver:this.addressData.receiver,phone:this.addressData.phone},transformRequest:s["a"].transformRequest}).then((function(e){t.$toast.clear(),t.$router.push({name:"Order"})})).catch((function(e){t.$toast.clear()}))}else this.$toast("未选择收货地址")}}},u=c,d=(r("29a5"),r("2877")),f=Object(d["a"])(u,a,n,!1,null,"4b5bc502",null);e["default"]=f.exports},"99af":function(t,e,r){"use strict";var a=r("23e7"),n=r("d039"),i=r("e8b5"),s=r("861d"),o=r("7b0b"),c=r("50c4"),u=r("8418"),d=r("65f0"),f=r("1dde"),l=r("b622"),h=r("2d00"),v=l("isConcatSpreadable"),p=9007199254740991,g="Maximum allowed index exceeded",b=h>=51||!n((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),y=f("concat"),m=function(t){if(!s(t))return!1;var e=t[v];return void 0!==e?!!e:i(t)},w=!b||!y;a({target:"Array",proto:!0,forced:w},{concat:function(t){var e,r,a,n,i,s=o(this),f=d(s,0),l=0;for(e=-1,a=arguments.length;e<a;e++)if(i=-1===e?s:arguments[e],m(i)){if(n=c(i.length),l+n>p)throw TypeError(g);for(r=0;r<n;r++,l++)r in i&&u(f,l,i[r])}else{if(l>=p)throw TypeError(g);u(f,l++,i)}return f.length=l,f}})},a15b:function(t,e,r){"use strict";var a=r("23e7"),n=r("44ad"),i=r("fc6a"),s=r("a640"),o=[].join,c=n!=Object,u=s("join",",");a({target:"Array",proto:!0,forced:c||!u},{join:function(t){return o.call(i(this),void 0===t?",":t)}})},a640:function(t,e,r){"use strict";var a=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&a((function(){r.call(null,e||function(){throw 1},1)}))}},ade3:function(t,e,r){"use strict";function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return a}))},b64b:function(t,e,r){var a=r("23e7"),n=r("7b0b"),i=r("df75"),s=r("d039"),o=s((function(){i(1)}));a({target:"Object",stat:!0,forced:o},{keys:function(t){return i(n(t))}})},bee2:function(t,e,r){"use strict";function a(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}r.d(e,"a",(function(){return n}))},d4ec:function(t,e,r){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",(function(){return a}))},dbb4:function(t,e,r){var a=r("23e7"),n=r("83ab"),i=r("56ef"),s=r("fc6a"),o=r("06cf"),c=r("8418");a({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,r,a=s(t),n=o.f,u=i(a),d={},f=0;while(u.length>f)r=n(a,e=u[f++]),void 0!==r&&c(d,e,r);return d}})},e439:function(t,e,r){var a=r("23e7"),n=r("d039"),i=r("fc6a"),s=r("06cf").f,o=r("83ab"),c=n((function(){s(1)})),u=!o||c;a({target:"Object",stat:!0,forced:u,sham:!o},{getOwnPropertyDescriptor:function(t,e){return s(i(t),e)}})},fa7d:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var a=r("d4ec"),n=r("bee2"),i=(r("159b"),r("a15b"),r("d3b7"),r("25f0"),r("4d63"),r("ac1f"),r("5319"),r("fb6a"),function(){function t(){Object(a["a"])(this,t)}return Object(n["a"])(t,[{key:"transformRequest",value:function(t){var e="";for(var r in t)e+=r+"="+t[r]+"&";return e}},{key:"getCookies",value:function(t,e){var r={};return t.forEach((function(t){r[t]=e.$cookies.get(t)})),r}},{key:"getToken",value:function(t){var e=["t0","t1","t2"],r=[];return e.forEach((function(e){r.push(t.$cookies.get(e))})),r.join(".")}},{key:"formatDate",value:function(t,e){var r=t.getFullYear().toString();if(/(y+)/.test(e)){var a=RegExp.$1;e=e.replace(a,r.slice(r.length-a.length))}var n={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};for(var i in n){var s=new RegExp("(".concat(i,"{1,2})"));if(s.test(e)){var o=RegExp.$1,c=n[i]>=10||1==o.length?n[i]:"0"+n[i];e=e.replace(o,c)}}return e}}]),t}()),s=new i}}]);
//# sourceMappingURL=chunk-a1baeb44.92084cfa.js.map